<!DOCTYPE html>
<html>
<head>
	<title>AI Chatbot</title>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder@4.1.0/embedding.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/qna@0.3.0/dist/qna.js"></script>
</head>
<body>
	<h1>AI Chatbot</h1>
	<p>Type your question below and press Enter:</p>
	<input type="text" id="question" onkeydown="if (event.keyCode == 13) ask()">
	<div id="answer"></div>
	<script>
		async function ask() {
			const question = document.getElementById("question").value;
			if (question.trim() === '') {
				return;
			}
			const model = await qna.load();
			const embeddings = await embed([question]);
			const answers = await model.findAnswers(embeddings, [question]);
			const answer = answers[0]?.text || "Sorry, I don't know the answer.";
			$("#answer").text(answer);
			document.getElementById("question").value = "";
		}
		async function embed(sentences) {
			const embedding = await embedModel.embed(sentences);
			return embedding;
		}
		const embedModel = await universalSentenceEncoder.load();
	</script>
</body>
</html>
